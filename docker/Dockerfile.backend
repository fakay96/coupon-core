# Start from the base image built from Dockerfile.base
FROM --platform=linux/arm64 fakay96/coupon-core:0.0.1 as base

# Set working directory for the BACKEND app
WORKDIR /app

# Expose the application port
EXPOSE 8000

COPY --from=base /app/init_db.sh /app/entrypoint.sh

RUN chmod +x /app/entrypoint.sh


# Use the entrypoint script for initialization
ENTRYPOINT ["/app/entrypoint.sh"]
